<wdkModel>

  <!-- notes

    - why don't crypto and api have EstBySourceId query? apidb HAS it but not in the OLD model used for this. There is no reason why crypto could not have it.

    - why doesn't est by source id take a dataset? no reason

    - why does only byLocation have sorting attribute set? no reason

    - do we need organism properties for these (ie, which organisms we have ESTs for?) Cp,Pb,Pc,Pf,Pv,Py,Tg

    - why does crypto/api not have the dyn attrs for the gene overlap query? probably no reason, just it was not done.

  -->


  <questionSet name="EstQuestions" displayName="Search ESTs">

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- By Id -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="EstBySourceId"
	      displayName="EST Accession(s)"
	      shortDisplayName="EST Accessn."
	      queryRef="EstIds.EstBySourceId"
	      recordClassRef="EstRecordClasses.EstRecordClass"
              noSummaryOnSingleRecord="true" excludeProjects="EuPathDB">

        <attributesList
           summary="formatted_organism,dbest_name"
        />
        <summary>
	Find ESTs by ID
	</summary>

        <description>
           <![CDATA[
           Find ESTs by a list of IDs. Either enter the ID list manually, or upload a file that contains
           the list. IDs can be delimited by a comma, a semi colon, or any white spaces. <br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByEstAccession">Assemblies by EST Accession Query</a>.
             ]]>
        </description>

       <propertyList name="genomeAttribution">
          <value/>
       </propertyList>
       <propertyList name="specificAttribution">
           <value includeProjects="GiardiaDB,PlasmoDB,TrichDB,ToxoDB">dbEST</value>
           <value includeProjects="CryptoDB">CparvumESTs</value>
           <value includeProjects="CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="CryptoDB">dbEST</value>
           <value includeProjects="PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>

  </question>

  <question name="EstBySourceId"
	      displayName="ID"
	      shortDisplayName="ID"
	      queryRef="EstIds.EstBySourceId"
	      recordClassRef="EstRecordClasses.EstRecordClass"
              noSummaryOnSingleRecord="false" includeProjects="EuPathDB">

        <attributesList
           summary="formatted_organism,dbest_name"
        />
        <summary>
	Find ESTs by ID
	</summary>
 <description>
        Find ESTs by ID. Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semi colon, or any white spaces. Also, the list may contain IDs from any of the EuPathDB organisms.  For example, a list can be in the
           following form: "AA420947, EV500870, AU087658, AA009308, CV202103"
      </description>

  </question>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- BLAST Similarity -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="EstsBySimilarity"
         displayName="BLAST"
         shortDisplayName="BLAST"
         category="Similarity/Pattern"
         queryRef="EstIds.EstsBySimilarity"
         recordClassRef="EstRecordClasses.EstRecordClass"
         fullAnswer="true">

        <attributesList
           summary="Header,TabularRow,Alignment,Footer"
           sorting="Counter asc"
        /> 

        <summary>
           Find ESTs that have BLAST similarity to your input sequence.
        </summary>

        <description>
           <![CDATA[
             Find ESTs that have BLAST similarity to your input query sequence.
            <p>The search uses <a href="http://blast.wustl.edu/" target="_blank">WU BLAST</a>.
          ]]>
        </description>

        <dynamicAttributes>
             <columnAttribute name="TabularRow" displayName="Blast summary"
                              inReportMaker="false"/>
             <columnAttribute name="Alignment" displayName="Blast alignment"
                              inReportMaker="false"/>
             <columnAttribute name="Header" displayName="Blast header"
                              inReportMaker="false"/>
             <columnAttribute name="Footer" displayName="Blast footer"
                              inReportMaker="false"/>
<columnAttribute name="Counter" displayName=""
                              inReportMaker="false"/>
        </dynamicAttributes>
       <propertyList name="genomeAttribution">
          <value/>
       </propertyList>
       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="CryptoDB">dbEST</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
        <propertyList name="attribution">
           <value>dbEST</value>
        </propertyList>
  </question>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Location -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="EstsByLocation"
              category="Genomic Position"
              displayName="Chromosomal Location"
              shortDisplayName="Chromo Loc"
              queryRef="EstIds.EstsByLocation"
              recordClassRef="EstRecordClasses.EstRecordClass">

        <attributesList excludeProjects="ToxoDB,CryptoDB,EuPathDB,GiardiaDB,TriTrypDB"
              summary="formatted_organism,dbest_name,est_location"
              sorting="formatted_organism asc, est_location asc"
        /> 
        <attributesList includeProjects="EuPathDB"
              summary="formatted_organism,dbest_name"
              sorting="formatted_organism asc, est_location asc"
        />

        <attributesList includeProjects="ToxoDB,CryptoDB,GiardiaDB,TriTrypDB"
              summary="formatted_organism,dbest_name,est_location,assembly_link,assembly_est_count"
              sorting="formatted_organism asc, est_location asc"
        /> 

        <dynamicAttributes>
            <columnAttribute name="est_location" displayName="EST location(s)"/>
        </dynamicAttributes>

        <summary>
            Find ESTs that are located in a specified genomic region.
        </summary>

<description includeProjects="CryptoDB">
           <![CDATA[
          Find ESTs within a given genomic region. The ESTs have not been mapped across species so be sure your genomic sequence ID and EST library choices are from the same species. For example, searching for <i>C. muris</i> ESTs on a <i>C. parvum</i> genomic sequence will return no results.<p>
          Select a <i>C. parvum</i> chromosome from the pull-down menu or
          enter the name of a contig for <i>C. muris</i> (e.g. 1104857754340),  <i>C. parvum</i> or <i>C. hominis</i> (e.g. AAEL01000057).
          If you enter both, your result will include the union.
          The Start and End locations correspond to the coordinates of the EST(s) on the chromosome.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>
        <description includeProjects="PlasmoDB">
          <![CDATA[
          Find ESTs that are located in a specified genomic region.<br><br>
          Either select a <i>P. falciparum</i> genomic sequence from the
          pull-down menu <i>or</i> enter a genomic sequence ID from any
          <i>Plasmodium</i> species (if you supply both,  your result will include the union).
          The Start and End locations correspond to the coordinates of the EST(s) on the chromosome.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>
        <description includeProjects="EuPathDB">
          <![CDATA[
          Find ESTs within a given genomic region.<br>
          Either select an organism and a genomic sequence from the
          pull-down menu or enter a genomic sequence ID from any EuPathDB
          species (e.g. "AAEL01000057", "MAL4", "Ia", "ctg02_305", "DS170425").
        
          The Start and End locations correspond to the coordinates of
          the EST(s) on the chromosome.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>
        <description includeProjects="TrichDB">
          <![CDATA[
          Find ESTs within a given genomic region.<br>
          Enter a genomic sequence ID for any <i>T. vaginalis</I> contig.
          The Start and End locations correspond to the coordinates of
          the EST(s) on the chromosome.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>
        <description includeProjects="GiardiaDB">
          <![CDATA[
          Find ESTs within a given genomic region.<br>
          Enter a genomic sequence ID for any <i>G. lamblia</I> contig.
          The Start and End locations correspond to the coordinates of
          the EST(s) on the sequence.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>
        <description includeProjects="TriTrypDB">
          <![CDATA[
          Find ESTs that are located in a specified genomic region.<br><br>
          Either select an Organism from the pull down list and a corresponding chromosome. <B>NOTE:</B> Not all organisms have the same number of chromosomes so if you choose an organism and chromosome combination that exceeds the number of chromosomes for that organism, you will get no results.  Following are the number of chromosomes for each TriTrypDB organism:  
                <TABLE>
                    <tr><td><i>T. brucei</i>:</td><td>11</td></tr>
                    <tr><td><i>L. braziliensis</i>:</td><td>35 </td></tr>
                    <tr><td><i>L. infantum</i>:</td><td>36 </td></tr>
                    <tr><td><i>L. major</i>:</td><td>36</td></tr>
                    <tr><td><i>T. cruzi</i>:</td><td>41</td></tr>
            </TABLE>
          <b>Alternatively</b>, enter a genomic sequence ID from any
           species (if you supply both,  your result will include the union).<br><br>
          The Start and End locations correspond to the coordinates of the EST(s) on the chromosome.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>
        <description includeProjects="ToxoDB">
              <![CDATA[
          Find ESTs that are located in a specified genomic region.<br><br>
          Either select a <i>T. gondii</i> chromosome from the pull-down menu
          <b>or</b> enter a sequence ID of a chromosome (e.g. "VIIa") or a
          scaffold (e.g. "TGG_994746"). <br>
          If you enter both, your result will include the union.
          The Start and End locations correspond to the coordinates of the EST(s) on the chromosome.
<br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLocation">Assemblies by Location Query</a>.
          ]]>
        </description>


       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="CryptoDB">dbEST</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
    </question>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- By Library -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

  <question name="EstsByLibrary"
              category="Transcript Expression"
              displayName="Library"
              shortDisplayName="Library"
              queryRef="EstIds.EstsByLibrary"
              recordClassRef="EstRecordClasses.EstRecordClass">

        <summary>Find ESTs by Library Name</summary>
        <description excludeProjects="TrichDB">
          <![CDATA[
Find ESTs by Library Name.  <br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesByLibrary">Assemblies by Library Query</a>.
          ]]>
        </description>

        <description includeProjects="TrichDB">
          <![CDATA[
Find ESTs by Library Name. 
          ]]>
        </description>

        <attributesList excludeProjects="CryptoDB,ToxoDB,GiardiaDB,TriTrypDB"
              summary="formatted_organism,dbest_name"
              sorting="formatted_organism asc"
        /> 
        <attributesList includeProjects="CryptoDB,ToxoDB,GiardiaDB,TriTrypDB"
              summary="formatted_organism,dbest_name,assembly_link,assembly_est_count"
              sorting="formatted_organism asc,dbest_name asc,assembly_link asc,assembly_est_count desc"
        /> 

       <propertyList name="genomeAttribution">
          <value/>
       </propertyList>
       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="CryptoDB">dbEST</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
  </question>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- With Gene Overlap -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="EstsWithGeneOverlap"
         displayName="Extent of Gene Overlap"
         shortDisplayName="Gene Overlap"
         queryRef="EstIds.EstsWithGeneOverlap"
         recordClassRef="EstRecordClasses.EstRecordClass">

        <attributesList excludeProjects="ToxoDB,CryptoDB,EuPathDB,GiardiaDB,TriTrypDB"
           summary="formatted_organism,dbest_name,est_locations,genes"
           sorting="formatted_organism asc,est_locations asc"
        /> 
        <attributesList includeProjects="EuPathDB"
              summary="formatted_organism,dbest_name"
              sorting="formatted_organism asc"
        />
        <attributesList includeProjects="ToxoDB,CryptoDB,GiardiaDB,TriTrypDB"
           summary="formatted_organism,dbest_name,est_locations,genes,assembly_link,assembly_est_count"
           sorting="formatted_organism asc,est_locations asc"
        /> 
        <summary>Find ESTs in a Library that do or do not overlap with a gene.</summary>
        <description>
          <![CDATA[ Find ESTs that Overlap a Gene.  <br /><br />EST's have been clustered/assembled into "DoTS Assemblies" which represent consensus sequences of overlapping EST's and mRNA's.  NOTE:  You can query for DoTS Assemblies directly by using the <a href="showQuestion.do?questionFullName=AssemblyQuestions.AssembliesWithGeneOverlap">Assemblies by Gene Overlap Query</a>.]]></description>

        <dynamicAttributes excludeProjects="EuPathDB">
            <columnAttribute name="est_locations" displayName="EST location(s)"/>
            <columnAttribute name="genes" displayName="Gene(s)"/>
        </dynamicAttributes>

       <propertyList name="specificAttribution">
           <value includeProjects="EuPathDB,GiardiaDB,PlasmoDB,TrichDB,ToxoDB">dbEST</value>
           <value includeProjects="EuPathDB,CryptoDB">CparvumESTs</value>
           <value includeProjects="EuPathDB,CryptoDB">WatanabeCpHNJ-1_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">ZhangGardnerPf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">Florent_ESTLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePf3D7_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePv_EstLibrary</value>
           <value includeProjects="EuPathDB,PlasmoDB">WatanabePy17XL_EstLibrary</value>
       </propertyList>
    </question>

  </questionSet>

</wdkModel>
