<wdkModel>
    <recordClassSet name="OrfRecordClasses">

        <recordClass name="OrfRecordClass" type="ORF">

      <testParamValues includeProjects="PlasmoDB">
         <paramValue name="source_id">PB_RP3804-2-1862-2092</paramValue>
         <paramValue name="project_id">PlasmoDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="ToxoDB">
         <paramValue name="source_id">scf_1104442822256-1-1399492-1399677</paramValue>
         <paramValue name="project_id">ToxoDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="CryptoDB">
         <paramValue name="source_id">AAEE01000015-4-52922-52668</paramValue>
         <paramValue name="project_id">CryptoDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="GiardiaDB">
         <paramValue name="source_id">AACB02000007-2-49229-49390</paramValue>
         <paramValue name="project_id">GiardiaDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="TrichDB">
         <paramValue name="source_id">DS164731-2-86-799</paramValue>
         <paramValue name="project_id">TrichDB</paramValue>
      </testParamValues>
      <!-- TODO revisit source ID-->
      <testParamValues includeProjects="TriTrypDB">
         <paramValue name="source_id">Lbr.chr26-1-799135-799317</paramValue>
         <paramValue name="project_id">TriTrypDB</paramValue>
      </testParamValues>

            <!-- primary key definition -->
            <primaryKeyAttribute name="primary_key"
                                 displayName="ORF">
                <columnRef>source_id</columnRef>
                <columnRef>project_id</columnRef>
                <text>
                    <![CDATA[
                    $$source_id$$
                    ]]>
                </text>                
            </primaryKeyAttribute>


          <!-- =============================================================== -->
          <!--   Reporters -->  
          <!-- =============================================================== -->

          <reporter name="tabular" displayName="Summary - TAB Delimited"
                      implementation="org.gusdb.wdk.model.report.TabularReporter" />
        
           <reporter name="srt" displayName="Sequence - configurable FASTA"
                    implementation=""/>


      <!-- =============================================================== -->
      <!--   Filters -->
      <!-- =============================================================== -->


     <answerFilterLayout name="eupath_project" visible="true"
                            fileName="eupath_project_filter.jsp"
                            displayName="Filter results by component website" includeProjects="EuPathDB">
            <instanceRef ref="all_results" />
            <instanceRef ref="crypto_orfs" />
            <instanceRef ref="giardia_orfs" />
            <instanceRef ref="plasmo_orfs" />
            <instanceRef ref="toxo_orfs" />
            <instanceRef ref="trich_orfs" />
            <instanceRef ref="tritryp_orfs" />
      </answerFilterLayout>



      <answerFilter queryRef="OrfTables.AllResults"   includeProjects="EuPathDB">
                  <instance name="all_results" displayName="All Results" default="true">
                    <description>
                        <![CDATA[
                            All results
                        ]]>
                    </description>
                </instance>

      </answerFilter>


      <answerFilter queryRef="OrfTables.ApiProjectOrfs"
                          includeProjects="EuPathDB">

               <instance name="crypto_orfs" displayName="CryptoDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in CryptoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">CryptoDB</paramValue>
                </instance>
               <instance name="giardia_orfs" displayName="GiardiaDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in GiardiaDB.
                        ]]>
                    </description>
                    <paramValue name="Project">GiardiaDB</paramValue>
                </instance>
               <instance name="plasmo_orfs" displayName="PlasmoDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in PlasmoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">PlasmoDB</paramValue>
                </instance>
               <instance name="toxo_orfs" displayName="ToxoDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in ToxoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">ToxoDB</paramValue>
                </instance>
               <instance name="trich_orfs" displayName="TrichDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in TrichDB.
                        ]]>
                    </description>
                    <paramValue name="Project">TrichDB</paramValue>
                </instance>
               <instance name="tritryp_orfs" displayName="TriTrypDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in TriTrypDB.
                        ]]>
                    </description>
                    <paramValue name="Project">TriTrypDB</paramValue>
                </instance>
      </answerFilter>


           <!-- =================================================================== -->
           <!--  Attributes  ++++++++-->
           <!-- =================================================================== -->

              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
              <!-- BFMV attributes -->  
              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

            <attributeQueryRef ref="OrfAttributes.Bfmv">
                <columnAttribute name="project_id" internal="true" inReportMaker="false"/>
                <columnAttribute name="source_id" internal="true" inReportMaker="false"/>
                <columnAttribute name="nas_id" displayName="Sequence ID" internal="false"/>
                <columnAttribute name="orf_start" internal="true"/>
                <columnAttribute name="orf_end" internal="true"/>
                <columnAttribute name="orf_start_text" displayName="Start" internal="false" align="center"/>
                <columnAttribute name="orf_end_text" displayName="End" internal="false" align="center"/>
                <columnAttribute name="orf_strand" displayName="Strand" internal="false" align="center"/>
                <columnAttribute name="length" displayName="Length" internal="false" align="center"/>
                <columnAttribute name="organism" displayName="Organism" internal="true" inReportMaker="true"/>
                <columnAttribute name="formatted_organism" displayName="Organism" internal="false" inReportMaker="false"/>
            </attributeQueryRef>

              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
              <!-- sequence attributes -->  
              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

            <attributeQueryRef ref="OrfAttributes.Sequence">
                <columnAttribute name="sequence" displayName="Sequence" internal="true" />
            </attributeQueryRef>

          <!-- =================================================================== -->
          <!--  Text Attributes  ++++++++-->
          <!-- =================================================================== -->

            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <!-- overview -->  
            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <textAttribute name="orf_location_text" displayName="Location"
                           internal="false" inReportMaker="true">
                <text>
                    <![CDATA[
                       $$nas_id$$: $$orf_start_text$$ - $$orf_end_text$$ ($$orf_strand$$)
                    ]]>
               </text>
           </textAttribute>           

            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <!-- overview -->  
            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <textAttribute name="overview" displayName="Overview"
                           internal="true" inReportMaker="false">
               <text>
                    <![CDATA[
                    Open Reading Frame $$source_id$$ from $$nas_id$$.<br>
                    Organism: <i>$$organism$$</i>
                    ]]>
               </text>
           </textAttribute>

          <textAttribute name="gbrowseTracks" inReportMaker="false" internal="true" 
                         includeProjects="GiardiaDB,CryptoDB,TrichDB,PlasmoDB,ToxoDB,TriTrypDB">
            <text includeProjects="GiardiaDB,CryptoDB,TrichDB,TriTrypDB">
                <![CDATA[
                  ORF+Gene
                ]]>
            </text>
            <text includeProjects="PlasmoDB,ToxoDB">
                 <![CDATA[
                  ORF+AnnotatedGenes
                 ]]>
           </text>
          </textAttribute>


        <!-- =================================================================== -->
        <!-- orf Tables++++++++-->
        <!-- =================================================================== -->

        <table name="Locations" includeProjects="PlasmoDB,ToxoDB,CryptoDB,TrichDB,GiardiaDB,TriTrypDB"
                 displayName="Orf Location"
                 queryRef="OrfTables.Locations">
            <columnAttribute displayName= "Sequence Level" name="is_top_level" internal="false"/>
            <columnAttribute displayName= "Genomic Sequence" name="sequence_source_id" internal="false"/>
            <textAttribute inReportMaker="true" name="location" displayName="Location">
                  <text>
                    <![CDATA[
                      $$start_min$$ - $$end_max$$ ($$is_reversed$$)
                    ]]>
                  </text>
            </textAttribute>
 
            <linkAttribute displayName="Genome Browser" name="view_link" inReportMaker="false" 
                           internal="false" includeProjects="GiardiaDB">
                 <displayText>
                    <![CDATA[ View ]]>
                 </displayText>
                   <url includeProjects="GiardiaDB">
                    <![CDATA[
                      /cgi-bin/gbrowse/giardiadb/?name=$$sequence_source_id$$%3A$$start_context$$-$$end_context$$;width=550;label=ORF;label=Gene;label=DeprecatedGene;h_feat=$$feature_source_id$$
                        ]]>
                   </url>
            </linkAttribute>
            <columnAttribute displayName= "start" name="start_min" internal="true"/>
            <columnAttribute displayName= "end" name="end_max" internal="true"/>
            <columnAttribute displayName= "is_reversed" name="is_reversed" internal="true"/>
            <columnAttribute displayName= "start_context" name="start_context" internal="true"/>
            <columnAttribute displayName= "end_context" name="end_context" internal="true"/>
            <columnAttribute displayName= "Feature ID" name="feature_source_id" internal="true"/>
          </table>

        </recordClass>

    </recordClassSet>
</wdkModel>

