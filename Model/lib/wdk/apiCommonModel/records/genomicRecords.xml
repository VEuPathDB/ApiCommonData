<wdkModel>

  <!--

     - the bfmv should only include shared attributes so its sql can be identical across projects.
     the rest can be factored into associated attribute queries

  -->


    <recordClassSet name="SequenceRecordClasses">
<!--
        <recordClass idPrefix=""
          name="SequenceRecordClass" type="Genomic Sequence"
          attributeOrdering="overview,otherInfo,dnaContext">
-->
        <recordClass name="SequenceRecordClass" type="Genomic Sequence"
          attributeOrdering="overview">

            <testParamValues includeProjects="PlasmoDB">
               <paramValue name="source_id">PB_PH0001</paramValue>
               <paramValue name="project_id">PlasmoDB</paramValue>
            </testParamValues>

            <testParamValues includeProjects="ToxoDB">
               <paramValue name="source_id">TGME49_chrIII</paramValue>
               <paramValue name="project_id">ToxoDB</paramValue>
            </testParamValues>

            <testParamValues includeProjects="CryptoDB">
               <paramValue name="source_id">AAEE01000001</paramValue>
               <paramValue name="project_id">CryptoDB</paramValue>
            </testParamValues>

            <testParamValues includeProjects="GiardiaDB">
               <paramValue name="source_id">CH991779</paramValue>
               <paramValue name="project_id">GiardiaDB</paramValue>
            </testParamValues>

            <testParamValues includeProjects="TrichDB">
               <paramValue name="source_id">DS113177</paramValue>
               <paramValue name="project_id">TrichDB</paramValue>
            </testParamValues>
            <!-- TODO revisit source_id --> 
            <testParamValues includeProjects="TriTrypDB">
               <paramValue name="source_id">AAHK01032731</paramValue>
               <paramValue name="project_id">TriTrypDB</paramValue>
            </testParamValues>

            <!-- primary key definition -->
            <primaryKeyAttribute name="primary_key"
                                 displayName="Sequence ID">
                <columnRef>source_id</columnRef>
                <columnRef>project_id</columnRef>
                <text>
                    <![CDATA[
                      $$source_id$$
                    ]]>
                </text>                
            </primaryKeyAttribute>

      <!-- =============================================================== -->
      <!--   Reporters -->  
      <!-- =============================================================== -->

          <reporter name="tabular" displayName="Summary - Tab delimited"
                    implementation="org.gusdb.wdk.model.report.TabularReporter"/>
          <reporter name="gff3" displayName="Summary - GFF3" excludeProjects="EuPathDB" 
                    implementation="org.apidb.apicommon.model.report.Gff3Reporter"/>
          <reporter name="fullRecord" displayName="Detailed" excludeProjects="EuPathDB" 
                    implementation="org.gusdb.wdk.model.report.FullRecordReporter"/>
          <reporter name="srt" displayName="FASTA"
                    implementation=""/>

       <!-- =================================================================== -->
       <!--  subTypes  ++++++++-->
       <!-- =================================================================== -->
<!--
       <subType includeProjects="GiardiaDB"
                filterQueryRef="SequenceSubTypes.SequenceTypeFilter"
                termToSkip="scaffolds and contigs"/>
-->


 <!-- =============================================================== -->
      <!--   Filters -->  
      <!-- =============================================================== -->


<answerFilterLayout name="eupath_project" visible="true"
                             fileName="eupath_project_filter.jsp" 
                            displayName="Filter results by component website" includeProjects="EuPathDB">
            <instanceRef ref="all_results" />
            <instanceRef ref="crypto_sequences" />
            <instanceRef ref="giardia_sequences" />
            <instanceRef ref="plasmo_sequences" />
            <instanceRef ref="toxo_sequences" />
            <instanceRef ref="trich_sequences" />
            <instanceRef ref="tritryp_sequences" />
</answerFilterLayout>

<answerFilterLayout name="eupath_species" visible="true"
                            displayName="Filter results by species" includeProjects="EuPathDB">
            <instanceRef ref="all_results" />
            <instanceRef ref="ch_genomics" />
            <instanceRef ref="cm_genomics" />
            <instanceRef ref="cp_chr6_genomics" />
            <instanceRef ref="cp_genomics" />
            <instanceRef ref="gl_genomics" />
            <instanceRef ref="pb_genomics" />
            <instanceRef ref="pc_genomics" />
            <instanceRef ref="pf_genomics" />
            <instanceRef ref="pk_genomics" />
            <instanceRef ref="pv_genomics" />
            <instanceRef ref="py_genomics" />
            <instanceRef ref="toxo_genomics" />
            <instanceRef ref="neospora_genomics" />
            <instanceRef ref="tv_genomics" />
            <instanceRef ref="lb_genomics" />
            <instanceRef ref="li_genomics"/>
            <instanceRef ref="lm_genomics" />
            <instanceRef ref="tb_genomics" />
            <instanceRef ref="tc_genomics" />
</answerFilterLayout>




 <answerFilter queryRef="GenomicSummaries.AllResults"   includeProjects="EuPathDB">
                  <instance name="all_results" displayName="All Results" default="true">
                    <description>
                        <![CDATA[
                            All results
                        ]]>
                    </description>   
                </instance>

  </answerFilter>


<answerFilter queryRef="GenomicSummaries.ApiGenomics"
                          includeProjects="EuPathDB">
                
                <instance name="ch_genomics" displayName="Ch">
                    <description>
                        <![CDATA[
                              <i>Cryptosporidium hominis</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Ch</paramValue>
                </instance>
                <instance name="cm_genomics" displayName="Cm">
                    <description>
                        <![CDATA[
                              <i>Cryptosporidium muris</i> genomic sequences.
                            ]]>
                    </description>
                    <paramValue name="organism">Cm</paramValue>
                </instance>
                <instance name="cp_chr6_genomics" displayName="Cp chr6">
                    <description>
                        <![CDATA[
                              <i>Cryptosporidium parvum chr6</i> genomic sequences.
                            ]]>
                    </description>
                    <paramValue name="organism">Cp_chr6</paramValue>
                </instance>
                <instance name="cp_genomics" displayName="Cp">
                    <description>
                        <![CDATA[
                              <i>Cryptosporidium parvum</i> genomic sequences
                            ]]>
                    </description>   
                    <paramValue name="organism">Cp</paramValue>
                </instance>
               
                <instance name="gl_genomics" displayName="Gl">
                    <description>
                        <![CDATA[
                              <i>Giardia lamblia</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Gl</paramValue>
                </instance>
                <instance name="pb_genomics" displayName="Pb">
                    <description>
                        <![CDATA[
                              <i>Plasmodium berghei</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Pb</paramValue>
                </instance>
               <instance name="pc_genomics" displayName="Pc">
                    <description>
                        <![CDATA[
                              <i>Plasmodium chabaudi</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Pc</paramValue>
                </instance>
                <instance name="pf_genomics" displayName="Pf">
                    <description>
                        <![CDATA[
                              <i>Plasmodium falciparum</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Pf</paramValue>
                </instance>
                <instance name="pk_genomics" displayName="Pk">
                    <description>
                        <![CDATA[
                              <i>Plasmodium knowlesi</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Pk</paramValue>
                </instance>
                <instance name="pv_genomics" displayName="Pv">
                    <description>
                        <![CDATA[
                              <i>Plasmodium vivax</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Pv</paramValue>
                </instance>
                <instance name="py_genomics" displayName="Py">
                    <description>
                        <![CDATA[
                              <i>Plasmodium yoelii</i> genomic sequences.
                            ]]>
                    </description>   
                    <paramValue name="organism">Py</paramValue>
                </instance>

               <instance name="toxo_genomics" displayName="Tg" >
                    <description>
                        <![CDATA[
                            Number of <i>T. gondii</i> genomic sequences from all strains (ME49, GT1 and VEG).
                        ]]>
                    </description>   
                    <paramValue name="organism">Tg</paramValue>
                </instance>

               <instance name="neospora_genomics" displayName="Nc" >
                    <description>
                        <![CDATA[
                            Number of <i>N. caninum</i> genomic sequences.
                        ]]>
                    </description>   
                    <paramValue name="organism">Nc</paramValue>
                </instance>

               <instance name="tv_genomics" displayName="Tv" >
                    <description>
                        <![CDATA[
                            Number of <i>T. vag</i> genomic sequences.
                        ]]>
                    </description>   
                    <paramValue name="organism">Tv</paramValue>
                </instance>

                <instance name="lb_genomics" displayName="Lb">
                    <description>
                        <![CDATA[
                              <i>Leishmania braziliensis</i> genomic sequences
                            ]]>
                    </description>   
                    <paramValue name="organism">Leishmania braziliensis</paramValue>
                </instance>
                <instance name="li_genomics" displayName="Li">
                    <description>
                        <![CDATA[
                              <i>Leishmania infantum</i> genomic sequences
                            ]]>
                    </description>   
                    <paramValue name="organism">Leishmania infantum</paramValue>
                </instance>
                <instance name="lm_genomics" displayName="Lm">
                    <description>
                        <![CDATA[
                              <i>Leishmania major</i> genomic sequences
                            ]]>
                    </description>   
                    <paramValue name="organism">Leishmania major</paramValue>
                </instance>
                <instance name="tb_genomics" displayName="Tb">
                    <description>
                        <![CDATA[
                              <i>Trypanosoma brucei</i> genomic sequences
                            ]]>
                    </description>   
                    <paramValue name="organism">Trypanosoma brucei</paramValue>
                </instance>
                <instance name="tc_genomics" displayName="Tc">
                    <description>
                        <![CDATA[
                              <i>Trypanosoma cruzi</i> genomic sequences
                            ]]>
                    </description>   
                    <paramValue name="organism">Trypanosoma cruzi</paramValue>
                </instance>

 </answerFilter>


<answerFilter queryRef="GenomicSummaries.ApiProjectSequences"
                          includeProjects="EuPathDB">

               <instance name="crypto_sequences" displayName="CryptoDB" >
                    <description>
                        <![CDATA[
                            Number of sequences in CryptoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">CryptoDB</paramValue>
                </instance>
               <instance name="giardia_sequences" displayName="GiardiaDB" >
                    <description>
                        <![CDATA[
                            Number of sequences in GiardiaDB.
                        ]]>
                    </description>
                    <paramValue name="Project">GiardiaDB</paramValue>
                </instance>
               <instance name="plasmo_sequences" displayName="PlasmoDB" >
                    <description>
                        <![CDATA[
                            Number of sequences in PlasmoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">PlasmoDB</paramValue>
                </instance>
               <instance name="toxo_sequences" displayName="ToxoDB" >
                    <description>
                        <![CDATA[
                            Number of sequences in ToxoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">ToxoDB</paramValue>
                </instance>
               <instance name="trich_sequences" displayName="TrichDB" >
                    <description>
                        <![CDATA[
                            Number of sequences in TrichDB.
                        ]]>
                    </description>
                    <paramValue name="Project">TrichDB</paramValue>
                </instance> 
               <instance name="tritryp_sequences" displayName="TriTrypDB" >
                    <description>
                        <![CDATA[
                            Number of sequences in TriTrypDB.
                        ]]>
                    </description>
                    <paramValue name="Project">TriTrypDB</paramValue>
                </instance>

 </answerFilter>


       <!-- =================================================================== -->
       <!--  Attributes  ++++++++-->
       <!-- =================================================================== -->

          <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
          <!-- BFMV attributes -->  
          <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <attributeQueryRef ref="SequenceAttributes.Bfmv">

            <columnAttribute name="chromosome" 
                 displayName="Chromosome" align="center"/>

            <columnAttribute name="a_count"
                 displayName="A Count" align="center"/>

            <columnAttribute name="c_count"
                 displayName="C Count" align="center"/>

            <columnAttribute name="g_count"
                 displayName="G Count" align="center"/>

            <columnAttribute name="t_count"
                 displayName="T Count" align="center"/>

            <columnAttribute name="other_count"
                 displayName="Other Count" align="center"/>

            <columnAttribute name="length" displayName="Length" internal="true" inReportMaker="false"/>

            <columnAttribute name="is_top_level" internal="true" inReportMaker="false"/>

            <columnAttribute name="formatted_length" displayName="Length" align="center"/>

            <columnAttribute  name="secondary_identifier" includeProjects="CryptoDB"
                 inReportMaker="false"   internal="true" />

            <columnAttribute name="chromosomemappingtext" includeProjects="CryptoDB,TriTrypDB" 
                 inReportMaker="false"    internal="true" />

            <columnAttribute name="at_percent"
                 displayName="AT Percent"/>

            <columnAttribute name="organism"
                 displayName="Organism" internal="true"/>

            <columnAttribute name="formatted_organism" 
                 displayName="Organism" inReportMaker="false"/>

            <columnAttribute name="sequence_description" includeProjects="EuPathDB,PlasmoDB"
                 displayName="Description" />

            <columnAttribute name="genbank_accession" 
                 displayName="GenBank" internal="true"/>

            <columnAttribute name="externalDbName" 
                 displayName="External DB Name" internal="true" inReportMaker="false"/>

            <columnAttribute name="externalDbVersion" 
                 displayName="External DB Version" internal="true" inReportMaker="false"/>

            <columnAttribute name="cyc_db" includeProjects="CryptoDB" 
                 inReportMaker="false"    internal="true" />

        </attributeQueryRef>

       <attributeQueryRef ref="SequenceAttributes.GeneCount">
            <columnAttribute name="gene_count" excludeProjects="EuPathDB"  displayName="Gene Count" internal="false"   />
        </attributeQueryRef>

       <attributeQueryRef ref="SequenceAttributes.HasMSA">
            <columnAttribute name="has_msa" excludeProjects="EuPathDB"  displayName="Has MSA" internal="true"   />
        </attributeQueryRef>

       <attributeQueryRef ref="SequenceAttributes.Aliases" includeProjects="GiardiaDB">
            <columnAttribute name="source_id" displayName="sid" internal="true" inReportMaker="false"/>
            <columnAttribute name="project_id" displayName="pid" internal="true" inReportMaker="false"/>
            <columnAttribute name="alias" displayName="Sequence Alias" internal="false" />
        </attributeQueryRef>

                
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- data dump attributes -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

          <attributeQueryRef ref="SequenceAttributes.SequenceGffAttrs" excludeProjects="EuPathDB">
              <columnAttribute name="project_id" internal="true" inReportMaker="false" excludeProjects="GiardiaDB"/>
              <columnAttribute name="source_id" internal="true" inReportMaker="false" excludeProjects="GiardiaDB"/>
              <columnAttribute displayName="SeqId" name="gff_seqid" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Data Source" name="gff_source" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Feature Type" name="gff_type" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Start" name="gff_fstart" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="End" name="gff_fend" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Score" name="gff_score" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Strand" name="gff_strand" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Reading Frame" name="gff_phase" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="ID" name="gff_attr_id" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Web ID" name="gff_attr_web_id" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Name" name="gff_attr_name" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="description" name="gff_attr_description" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Genome Size" name="gff_attr_size" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Molecule type" name="gff_attr_molecule_type" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Organism name" name="gff_attr_organism_name" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Translation table" name="gff_attr_translation_table" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Topology" name="gff_attr_topology" inReportMaker="false" internal="true"/>
              <columnAttribute displayName="Localization" name="gff_attr_localization" inReportMaker="false" internal="true"/>
          </attributeQueryRef>


          <attributeQueryRef ref="SequenceAttributes.SequenceGffSequence" excludeProjects="EuPathDB">
              <columnAttribute displayName="Sequence" name="gff_sequence" inReportMaker="false" internal="true"/>
          </attributeQueryRef>


        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- Attribution attributes -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

          <attributeQueryRef ref="SequenceAttributes.Attribution" includeProjects="PlasmoDB">
              <columnAttribute displayName="Attribution" name="short_name" inReportMaker="false" internal="true"/>
          </attributeQueryRef>


      <!-- =================================================================== -->
      <!--  Link Attributes  ++++++++-->
      <!-- =================================================================== -->

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- Genbank record -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

         <linkAttribute name="GenbankRecord" includeProjects="PlasmoDB"
                        inReportMaker="false">
				<displayText>
				    <![CDATA[$$genbank_accession$$]]>
				</displayText>
            <url>
               <![CDATA[http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=nucleotide&val=$$genbank_accession$$]]>
            </url>
         </linkAttribute>


      <!-- =================================================================== -->
      <!--  Text Attributes  ++++++++-->
      <!-- =================================================================== -->

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- overview -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <textAttribute name="overview" displayName="Overview"
                         inReportMaker="false" internal="true">
           <text includeProjects="PlasmoDB,ToxoDB,GiardiaDB,TrichDB">
              <![CDATA[
                  Organism: $$formatted_organism$$<br>
                  Residue counts: <b>A</b>:$$a_count$$, <b>T</b>:$$t_count$$,
                  <b>C</b>:$$c_count$$, <b>G</b>:$$g_count$$,
                  <b>other</b>:$$other_count$$<br>
                  Length: $$length$$<br>
                  AT content: $$at_percent$$ percent<br>
                  Number of genes: $$gene_count$$
              ]]>
           </text>
           <text includeProjects="EuPathDB">
                <![CDATA[
                Organism: $$formatted_organism$$<br>
                $$chromosomemappingtext$$<br>
                Residue counts: <b>A</b>:$$a_count$$, <b>T</b>:$$t_count$$, <b>C</b>:$$c_count$$, 
                <b>G</b>:$$g_count$$, <b>other</b>:$$other_count$$<br>
                AT content: $$at_percent$$ percent<br>
                Length: $$length$$<br>

                <a href="http://apicyc.apidb.org/$$cyc_db$$/new-image?object=$$source_id$$">CryptoCyc Metabolic Pathway Database</a><br>
              ]]>
           </text>
           <text includeProjects="CryptoDB,TriTrypDB">
                <![CDATA[
                Organism: $$formatted_organism$$<br>
                $$chromosomemappingtext$$<br>
                Residue counts: <b>A</b>:$$a_count$$, <b>T</b>:$$t_count$$, <b>C</b>:$$c_count$$, 
                <b>G</b>:$$g_count$$, <b>other</b>:$$other_count$$<br>
                AT content: $$at_percent$$ percent<br>
                Length: $$length$$<br>
                Number of genes: $$gene_count$$
              ]]>
           </text>
         </textAttribute>

         <textAttribute name="gbrowseTracks"  excludeProjects="EuPathDB" 
                         inReportMaker="false" internal="true">
           <text includeProjects="CryptoDB">
              <![CDATA[
               AnnotationDensity+SyntenySpanParvum+SyntenySpanHominis+SyntenySpanMuris
              ]]>
           </text>
           <text includeProjects="TrichDB">
              <![CDATA[
               AnnotationDensity
              ]]>
           </text>
           <text includeProjects="PlasmoDB">
              <![CDATA[
               GeneDensity
              ]]>
           </text>
           <text includeProjects="GiardiaDB">
              <![CDATA[
               Contigs+AnnotationDensity
              ]]>
           </text>
           <text includeProjects="ToxoDB">
              <![CDATA[
               GeneDensity+SyntenySpanGT1+SyntenySpanME49+SyntenySpanVEG+SyntenySpanNeospora
              ]]>
           </text>
           <text includeProjects="TriTrypDB">
              <![CDATA[
               AnnotationDensity+ORF
              ]]>
           </text>
         </textAttribute>



        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- DNA Context -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <textAttribute name="dnaContext" includeProjects="PlasmoDB,ToxoDB,GiardiaDB,TrichDB,TriTrypDB"
                       displayName="Features" internal="true"
                       inReportMaker="false">
           <text includeProjects="PlasmoDB">
                <![CDATA[
                /cgi-bin/gbrowse_img/plasmodb/?name=$$source_id$$;embed=1;type=GeneDensity;width=600;base=/cgi-bin/gbrowse
                ]]>
           </text>
           <text includeProjects="ToxoDB">
                <![CDATA[
                /cgi-bin/gbrowse_img/toxodb/?name=$$source_id$$;embed=1;type=AnnotatedGenes;width=600;base=/cgi-bin/gbrowse
                ]]>
           </text>
           <text includeProjects="GiardiaDB">
                <![CDATA[
                /cgi-bin/gbrowse_img/giardiadb/?name=$$source_id$$;embed=1;type=Contigs;type=AnnotationDensity;width=600;base=/cgi-bin/gbrowse
                ]]>
           </text>
           <text includeProjects="TrichDB">
                <![CDATA[
                /cgi-bin/gbrowse_img/trichdb/?name=$$source_id$$;embed=1;type=AnnotationDensity;width=600;base=/cgi-bin/gbrowse
                ]]>
           </text>
           <!--TODO revisit url -->
           <text includeProjects="TriTrypDB">
                <![CDATA[
                /cgi-bin/gbrowse_img/trypdb/?name=$$source_id$$;embed=1;type=AnnotationDensity;width=600;base=/cgi-bin/gbrowse
                ]]>
           </text>

        </textAttribute>

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- GBrowse -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <textAttribute name="GBrowse"  includeProjects="PlasmoDB"
            displayName="Genome Browser" align="center" inReportMaker="false">
           <text>
                <![CDATA[
                <a href="/cgi-bin/gbrowse/plasmodb/?name=$$source_id$$:1-$$length$$;enable=AnnotatedGenes">view</a>
                ]]>
           </text>
        </textAttribute>

        <textAttribute name="GBrowse"  includeProjects="GiardiaDB"
            displayName="Genome Browser" align="center" inReportMaker="false">
           <text>
                <![CDATA[
                <a href="/cgi-bin/gbrowse/giardiadb/?name=$$source_id$$:1-$$length$$;enable=Gene+DeprecatedGene">view</a>
                ]]>
           </text>
        </textAttribute>

        <textAttribute name="GBrowse" includeProjects="ToxoDB" 
            displayName="Genome Browser" align="center" inReportMaker="false">
           <text>
                <![CDATA[
                <a href="/cgi-bin/gbrowse/toxodb/?name=$$source_id$$:1-$$length$$;enable=AnnotatedGenes">view</a>
                ]]>
           </text>
        </textAttribute>

        <textAttribute name="GBrowse" includeProjects="CryptoDB" 
            displayName="Genome Browser" align="center" inReportMaker="false">
            <text>
                 <![CDATA[
                <a href="/cgi-bin/gbrowse/cryptodb/?name=$$source_id$$:1-$$length$$;enable=AnnotatedGenes">view</a>
                ]]>
            </text>
         </textAttribute>

         <textAttribute name="GBrowse"  includeProjects="TrichDB"
            displayName="Genome Browser" align="center" inReportMaker="false">
            <text>
                 <![CDATA[
                 <a href="/cgi-bin/gbrowse/trichdb/?name=$$source_id$$:1-$$length$$;enable=Gene">view</a>
                 ]]>
            </text>
         </textAttribute>
         <!-- TODO revisit url -->
         <textAttribute name="GBrowse"  includeProjects="TriTrypDB"
            displayName="Genome Browser" align="center" inReportMaker="false">
            <text>
                 <![CDATA[
                 <a href="/cgi-bin/gbrowse/trypdb/?name=$$source_id$$:1-$$length$$;enable=Gene">view</a>
                 ]]>
            </text>
         </textAttribute>


        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- Other info -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <textAttribute name="otherInfo" includeProjects="ToxoDB,PlasmoDB,GiardiaDB,TrichDB,TriTrypDB"
            displayName="Retrieve Sequence" inReportMaker="false" truncateTo='1500'>
           <text excludeProjects="ToxoDB">
                <![CDATA[
                    <!-- a href="@GENE_BY_CONTIG_URL@">Lookup Genes on this Contig</a><br -->
                    <form action="/cgi-bin/contigSrt" method="get">
                    <table border="0" cellpadding="5" cellspacing="1">
                      <tr class="secondary3"><td>
                        <table border="0" cellpadding="0">
                        <!-- tr><td colspan="2"><h3>Retrieve this sequence</h3></td></tr -->
                        <tr><td colspan="2"><b>Nucleotide positions:</b>&nbsp;&nbsp;
                                <input name='project_id' value=@PROJECT_ID@ size='20' type='hidden' />
                                <input name='ids' value='$$source_id$$' size='20' type='hidden' />
                                <input type="text" name="start" value="1" maxlength="7" size="8"/>
                             to <input type="text" name="end" value="$$length$$" maxlength="7" size="8"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;<br>
                        <input type="checkbox" name="revComp">Reverse & Complement</td></tr>
                           <tr><td align="left"><input type="submit" name='go' value='Get Sequence' /></td></tr>
                    </table>
                    </td></tr></table>
                    </form>
                ]]>
           </text>
           <text includeProjects="ToxoDB">
                <![CDATA[
                    <!-- a href="@GENE_BY_CONTIG_URL@">Lookup Genes on this Contig</a><br -->
                    <form action="/cgi-bin/contigSrt" method="get">
                    <table border="0" cellpadding="5" cellspacing="1">
                      <tr class="secondary3"><td>
                        <table border="0" cellpadding="0">
                        <tr><td colspan="2"><b>Nucleotide positions:</b>&nbsp;&nbsp;
                                <input name='project_id' value=@PROJECT_ID@ size='20' type='hidden' />
                                <input name='ids' value='$$source_id$$' size='20' type='hidden' />
                                <input type="text" name="start" value="1" maxlength="7" size="8"/>
                             to <input type="text" name="end" value="$$length$$" maxlength="7" size="8"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;<br>
                       <input type="checkbox" name="revComp">Reverse & Complement</td></tr>
                           <tr><td align="left"><input type="submit" name='go' value='Get Sequence' /></td></tr>
                    </table>
                    </td></tr></table>
                    </form>
                ]]>
           </text>
        </textAttribute>


      <!-- =================================================================== -->
      <!-- Tables ++++++++-->
      <!-- =================================================================== -->

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- sequence pieces -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <table name="SequencePieces"
               displayName="Genomic Assembly"
               queryRef="SequenceTables.SequencePieces">
            <columnAttribute name="source_id" internal="true" displayName="Sequence ID"/>
           <linkAttribute inReportMaker="false" displayName="Sequence ID"
                          name="linkedSequenceId">
				<displayText>
				    <![CDATA[$$source_id$$]]>
				</displayText>
             <url><![CDATA[
                     showRecord.do?name=SequenceRecordClasses.SequenceRecordClass&primary_key=$$source_id$$&project_id=@PROJECT_ID@
                    ]]>
             </url>
           </linkAttribute>

            <columnAttribute name="start_min" displayName="Start"/>
            <columnAttribute name="end_max" displayName="End"/>
            <columnAttribute name="piece_source_id" internal="true" displayName="Piece ID"/>
           <linkAttribute inReportMaker="false" displayName="Piece ID"
                          name="linkedSequencePieceId">
				<displayText>
				    <![CDATA[$$piece_source_id$$]]>
				</displayText>
             <url><![CDATA[
                     showRecord.do?name=SequenceRecordClasses.SequenceRecordClass&primary_key=$$piece_source_id$$&project_id=@PROJECT_ID@
                    ]]>
             </url>
           </linkAttribute>
            <columnAttribute name="piece_min" displayName="Start"/>
            <columnAttribute name="piece_max" displayName="End"/>
            <columnAttribute name="piece_strand" displayName="Strand"/>
        </table>


        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- centromere -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <table name="Centromere"
               displayName="Centromere"
               queryRef="SequenceTables.Centromere">
            <columnAttribute name="start_min" displayName="Centromere Start"/>
            <columnAttribute name="end_max" displayName="Centromere End"/>
        </table>

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- comments -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <table name="SequenceComments" excludeProjects="EuPathDB"
                 displayName="User Comments"
                 queryRef="CommentTables.GenomeComments">
          <columnAttribute name="comment_id" internal="true" displayName="Comment ID"/>
          <linkAttribute name="comment_id_link" inReportMaker="false"
                displayName="Comment ID">
                   <displayText>
                      <![CDATA[
                      $$comment_id$$
                      ]]>
                   </displayText>
            <url>
              <![CDATA[showComment.do?projectId=@PROJECT_ID@&stableId=$$stable_id$$&commentTargetId=$$comment_target_id$$#$$comment_id$$]]>
            </url>
          </linkAttribute>
          <columnAttribute name="stable_id" internal="true"/>
          <columnAttribute name="comment_target_id" internal="true"/> 
          <columnAttribute name="headline" displayName="Headline"/>
          <columnAttribute name="pmids" internal="true" displayName="PubMed ID(s)"/>
          <linkAttribute name="pmids_link" inReportMaker="false"
                displayName="PubMed ID(s)">
                   <displayText>
                      <![CDATA[
                      $$pmids$$
                      ]]>
                   </displayText>
            <url>
              <![CDATA[/cgi-bin/pmid2title?pmids=$$pmids$$]]>
            </url>
          </linkAttribute>
          <columnAttribute name="genecount" displayName="# Related Genes"/>
          <columnAttribute name="filecount" displayName="# Uploaded Files"/>
          <columnAttribute name="user_name_org" displayName="Made by"/>
          <columnAttribute name="comment_date" displayName="Date"/>
        </table>

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- data dump table -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

          <table name="SequenceGffDbxrefs" excludeProjects="EuPathDB"
                 displayName="Sequence DbXrefs"
                 queryRef="SequenceTables.SequenceGffDbxrefs" inReportMaker="false">
              <columnAttribute displayName="Dbxref" name="gff_dbxref"/>
          </table>

       </recordClass>
    </recordClassSet>
</wdkModel>
