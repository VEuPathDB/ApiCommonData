#!/usr/bin/perl
use strict;
use lib "$ENV{GUS_HOME}/lib/perl";
use Getopt::Long;

my ($trfPath,$inputFile,$args);
&GetOptions("trfPath=s"=> \$trfPath,
            "inputFile=s"=> \$inputFile,
            "args=s"=> \$args);

die "usage:trfWrap --trfPath --inputFile --args \n" 
  unless ($trfPath && $inputFile &&$args);

my $seqCount = `grep -c '>' $inputFile`;

system("$trfPath/trf400 $inputFile $args -d");

my $status = $? >> 8;

print STDERR "status=$status\n";

die "Failed with trf400 running." unless ($status == $seqCount); 
